@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Leaflet CSS first - most important */
@import url('https://unpkg.com/leaflet@1.7.1/dist/leaflet.css');

/* Additional Leaflet CSS backup */
@import url('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');

/* Fix for Leaflet icons in bundlers */
.leaflet-default-icon-path {
  background-image: url('https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png');
}

/* Global styles for proper scrolling and layout */
@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply m-0 p-0 overflow-x-hidden;
  }
  
  #root {
    @apply min-h-screen;
  }
}

/* Essential Leaflet styles - simplified and forced */
.leaflet-container {
  height: 100% !important;
  width: 100% !important;
  background: #a7e0ff !important; /* Light blue to show loading */
}

.leaflet-control-container .leaflet-control-attribution {
  background: rgba(255, 255, 255, 0.8);
  padding: 2px 5px;
  font-size: 11px;
}

/* Ensure tiles are visible */
.leaflet-tile-pane {
  opacity: 1 !important;
}

.leaflet-tile {
  opacity: 1 !important;
}

/* Basic map controls */
.leaflet-control-zoom a {
  background: #fff;
  color: #333;
  border: 1px solid #ccc;
}

/* Custom component styles */
@layer components {
  .glass-panel {
    @apply bg-white/80 backdrop-blur-sm border border-gray-200/50 shadow-lg rounded-xl;
  }
  
  .sidebar-panel {
    @apply glass-panel p-6 space-y-4;
  }
  
  .dashboard-panel {
    @apply glass-panel p-6 space-y-6;
  }
  
  .btn-primary {
    @apply bg-hydrogen-600 hover:bg-hydrogen-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg;
  }
  
  .btn-secondary {
    @apply bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-gray-300;
  }
  
  .checkbox-custom {
    @apply w-4 h-4 text-hydrogen-600 bg-gray-100 border-gray-300 rounded focus:ring-hydrogen-500 focus:ring-2;
  }
  
  .score-display {
    @apply text-4xl font-bold bg-gradient-to-r from-hydrogen-600 to-energy-500 bg-clip-text text-transparent;
  }
}

/* Leaflet popup customization */
.leaflet-popup-content-wrapper {
  @apply rounded-xl shadow-xl border-0;
}

.leaflet-popup-content {
  @apply m-0 p-4;
}

.leaflet-popup-tip {
  @apply shadow-lg;
}

/* Custom scrollbar */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: #d1d5db #f3f4f6;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  @apply bg-gray-100 rounded-full;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full hover:bg-gray-400;
}

/* Animation classes */
.animate-bounce-slow {
  animation: bounce 2s infinite;
}

.loading-spinner {
  @apply animate-spin rounded-full border-2 border-gray-300 border-t-hydrogen-600;
}
